<!-- SIDEBAR CONTAINER -->
<aside
  class="h-screen bg-white border-r shadow-sm flex flex-col transition-all duration-300 fixed md:static z-40"
  [ngClass]="collapsed ? 'w-16' : 'w-64'"
>

  <!-- Header / Brand -->
  <div class="flex items-center justify-between h-16 px-4 border-b">
    <div
      class="flex items-center gap-2 transition-all duration-300"
      [ngClass]="collapsed ? 'opacity-0 w-0 overflow-hidden' : 'opacity-100'"
    >
      <div class="h-8 w-8 rounded-lg bg-transparent flex items-center justify-center text-white font-bold">
      <svg 
      class="w-16 h-14 sm:w-20 sm:h-16 md:w-24 md:h-20 animate-smoothBounce"
      viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient id="invGreen" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#66D17A"/>
          <stop offset="100%" stop-color="#2E8E46"/>
        </linearGradient>

        <filter id="bagShadow" x="-20%" y="-20%" width="140%" height="140%">
          <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="rgba(0,0,0,0.28)" />
        </filter>
      </defs>

      <g filter="url(#bagShadow)">
        <rect x="40" y="60" width="120" height="110" rx="22" fill="url(#invGreen)" />
        <path d="M70 60 Q70 35 100 35 Q130 35 130 60"
              stroke="#ffffff" stroke-width="12" fill="none" stroke-linecap="round" />
        <text x="100" y="135" font-size="38" font-weight="700"
              text-anchor="middle" fill="#ffffff">kmbi</text>
      </g>
    </svg>
      </div>
      <span class="text-lg font-semibold text-slate-900">InventoryApp</span>
    </div>

    <!-- Collapse Button -->
    <button
      class="p-2 rounded-lg hover:bg-slate-100"
      (click)="toggleSidebar()"
    >
      <svg *ngIf="!collapsed" class="w-5 h-5 text-slate-600" xmlns="http://www.w3.org/2000/svg" fill="none"
        viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>

      <svg *ngIf="collapsed" class="w-5 h-5 text-slate-600" xmlns="http://www.w3.org/2000/svg" fill="none"
        viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </button>
  </div>

  <!-- NAV LINKS -->
  <nav class="flex-1 px-2 py-4 space-y-1">

    <a routerLink="/dashboard" routerLinkActive="active-link" class="nav-item">
      <lucide-icon name="House" class="icon"></lucide-icon>
      <span class="nav-text" [ngClass]="collapsed ? 'hidden' : ''">Dashboard</span>
    </a>

    <a routerLink="/inventory/laptops" routerLinkActive="active-link" class="nav-item">
      <lucide-icon name="Laptop" class="icon"></lucide-icon>
      <span class="nav-text" [ngClass]="collapsed ? 'hidden' : ''">Laptops</span>
    </a>

    <a routerLink="/inventory/laptops/reports" routerLinkActive="active-link" class="nav-item">
      <lucide-icon name="BarChart" class="icon"></lucide-icon>
      <span class="nav-text" [ngClass]="collapsed ? 'hidden' : ''">Reports</span>
    </a>

    <a routerLink="/profile" routerLinkActive="active-link" class="nav-item">
      <lucide-icon name="User" class="icon"></lucide-icon>
      <span class="nav-text" [ngClass]="collapsed ? 'hidden' : ''">Profile</span>
    </a>
    
  </nav>

  <!-- FOOTER USER BLOCK -->
  <div class="border-t px-4 py-4 flex items-center gap-3">
    <lucide-icon name="User" class="icon"></lucide-icon>
    <span class="text-sm font-medium text-slate-700" [ngClass]="collapsed ? 'hidden' : ''">Logged in</span>
  </div>

</aside>
